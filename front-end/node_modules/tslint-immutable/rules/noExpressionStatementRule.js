"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ts = require("typescript");
var check_node_1 = require("./shared/check-node");
var Ignore = require("./shared/ignore");
// tslint:disable-next-line:variable-name
exports.Rule = check_node_1.createCheckNodeRule(checkNode, "Using expressions to cause side-effects not allowed.");
function checkNode(node, ctx) {
    if (node && node.kind === ts.SyntaxKind.ExpressionStatement) {
        var children = node.getChildren();
        var text = node.getText(node.getSourceFile());
        var isYield = children.every(function (n) { return n.kind === ts.SyntaxKind.YieldExpression; });
        var isIgnored2 = Ignore.isIgnoredPrefix(text, ctx.options.ignorePrefix);
        if (!isYield && !isIgnored2) {
            return { invalidNodes: [check_node_1.createInvalidNode(node)] };
        }
    }
    return { invalidNodes: [] };
}
//# sourceMappingURL=noExpressionStatementRule.js.map